
# =========================
# Configuración general
# =========================
spring.application.name=mercado-oficio
server.port=8081

# Perfil activo
spring.profiles.active=dev

# =========================
# JPA / Hibernate
# =========================
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect
spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl
spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.default_batch_fetch_size=10
# Ver qué se está cacheando
#logging.level.com.proyecto.mercadooficio.Domain.Service=DEBUG
# Ver hits/misses de Hibernate
#spring.jpa.properties.hibernate.generate_statistics=true
logging.level.org.hibernate.stat=DEBUG

jwt.secret=MERCADO_OFICIO_PROYECTO_POLO_IT_GRUPO_3_JWT_A
jwt.expiration-ms=3600000  # ejemplo, 1 hora

# =========================
# Cache con Caffeine
# =========================
spring.cache.type=caffeine
spring.cache.caffeine.spec=maximumSize=500,expireAfterWrite=10m
# ============================================
# MICROMETER METRICS (para monitoreo de cache)
# ============================================

management.endpoints.web.exposure.include=health,metrics,caches
management.endpoint.caches.enabled=true
management.metrics.enable.cache=true
# =========================
# Tamaño máximo de archivos (multipart)
# =========================
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB
spring.servlet.multipart.file-size-threshold=2KB
# Directorio de uploads
file.upload-dir=uploads
# URL base para acceder a las imágenes
file.base-url=http://localhost:8081

# =========================
# Logging
# =========================
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# =========================
# Configuración de correo
# =========================
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=mercado.oficio.proyecto@gmail.com
spring.mail.password=nahw nspo anyu jdwg
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true

# ========== Trustless Work Configuration ==========
trustless.work.api.key=JE5la2q6lf6FsqnFyqBB_w.97e6b38bea491165ee47992d21bcace9a5eb33e2ae37af9a0aedbf933e9531d1
trustless.work.api.url=https://dev.api.trustlesswork.com
trustless.work.platform.address=GB25LHPAAQM3VYE4ZU2GOPIIP6TKX2O7MDMRACEQUDD2VCSFAMJJY6OG
trustless.work.platform.fee=0.5

# ========== Encryption Configuration ==========
encryption.secret.key=wf8HVDcWqo0a8cFNu5MjBOFXKAayPF1A5Grjtwp5zSc=
# ========== REST Template Timeouts ==========
rest.client.connection.timeout=10000
rest.client.read.timeout=10000
# =========================
# Otras configuraciones útiles
# =========================
spring.jackson.time-zone=UTC
spring.jackson.serialization.WRITE_DATES_AS_TIMESTAMPS=false


